{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBA+BpCF,EAAKG,iBAAiB,QAASC,EAAAN,GAAEO,UA7Bf,SAAAC,GAChBC,OAAOC,aAAaC,QAClB,sBACAC,KAAKC,UAAU,CACbC,QAASZ,EAAKY,QAAQC,MACtBC,MAAOd,EAAKc,MAAMD,Q,GAwB6B,MACrDN,OAAOJ,iBAAiB,QApBN,SAAAG,GAChB,IAMgCS,EACEC,EAP9BC,EAAaV,OAAOC,aAAaU,QAAQ,uBAC7C,IACED,EAAaP,KAAKS,MAAMF,E,CACxB,MAAAG,GACAH,EAAa,CAAEH,MAAO,GAAIF,QAAS,G,CAErCZ,EAAKc,MAAMD,MAAQI,GAA6B,QAAhBF,EAAAE,EAAWH,aAAK,IAAhBC,IAAyB,GACzDf,EAAKY,QAAQC,MAAQI,GAA+B,QAAlBD,EAAAC,EAAWL,eAAO,IAAlBI,IAA2B,E,IAa/DhB,EAAKG,iBAAiB,UAVC,SAAAG,GACrBA,EAAEe,iBACFC,QAAQC,IAAIjB,EAAEkB,OAAOV,MAAMD,MAAO,mBAAoBP,EAAEkB,OAAOZ,QAAQC,OACvEP,EAAEkB,OAAOZ,QAAQC,MAAQ,GACzBP,EAAEkB,OAAOV,MAAMD,MAAQ,GACvBN,OAAOC,aAAaiB,WAAW,sB","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\n\nconst saveInput = e => {\n  window.localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify({\n      message: form.message.value,\n      email: form.email.value,\n    })\n  );\n};\n\nconst loadInput = e => {\n  let loadedData = window.localStorage.getItem('feedback-form-state');\n  try {\n    loadedData = JSON.parse(loadedData);\n  } catch {\n    loadedData = { email: '', message: '' };\n  }\n  form.email.value = loadedData ? loadedData.email ?? '' : '';\n  form.message.value = loadedData ? loadedData.message ?? '' : '';\n};\n\nconst overrideSubmit = e => {\n  e.preventDefault();\n  console.log(e.target.email.value, ' left feedback: ', e.target.message.value);\n  e.target.message.value = '';\n  e.target.email.value = '';\n  window.localStorage.removeItem('feedback-form-state');\n};\n\nform.addEventListener('input', _.throttle(saveInput, 500));\nwindow.addEventListener('load', loadInput);\nform.addEventListener('submit', overrideSubmit);\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","addEventListener","$parcel$interopDefault","throttle","e","window","localStorage","setItem","JSON","stringify","message","value","email","_email","_message","loadedData","getItem","parse","e1","preventDefault","console","log","target","removeItem"],"version":3,"file":"03-feedback.5ec551a2.js.map"}