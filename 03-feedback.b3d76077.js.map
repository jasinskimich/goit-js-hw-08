{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,kBA+BpCF,EAAKG,iBAAiB,QAASC,EAAAN,GAAEO,UA7BfC,IAChBC,OAAOC,aAAaC,QAClB,sBACAC,KAAKC,UAAU,CACbC,QAASZ,EAAKY,QAAQC,MACtBC,MAAOd,EAAKc,MAAMD,QAErB,GAsBkD,MACrDN,OAAOJ,iBAAiB,QApBNG,IAChB,IAAIS,EAAaR,OAAOC,aAAaQ,QAAQ,uBAC7C,IACED,EAAaL,KAAKO,MAAMF,E,CACxB,MACAA,EAAa,CAAED,MAAO,GAAIF,QAAS,G,KAELM,EACEC,EADlCnB,EAAKc,MAAMD,MAAQE,GAA6B,QAAhBG,EAAAH,EAAWD,aAAK,IAAhBI,IAAyB,GACzDlB,EAAKY,QAAQC,MAAQE,GAA+B,QAAlBI,EAAAJ,EAAWH,eAAO,IAAlBO,IAA2B,EAAE,IAajEnB,EAAKG,iBAAiB,UAVCG,IACrBA,EAAEc,iBACFC,QAAQC,IAAIhB,EAAEiB,OAAOT,MAAMD,MAAO,mBAAoBP,EAAEiB,OAAOX,QAAQC,OACvEP,EAAEiB,OAAOX,QAAQC,MAAQ,GACzBP,EAAEiB,OAAOT,MAAMD,MAAQ,GACvBN,OAAOC,aAAagB,WAAW,sBAAsB","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\n\nconst saveInput = e => {\n  window.localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify({\n      message: form.message.value,\n      email: form.email.value,\n    })\n  );\n};\n\nconst loadInput = e => {\n  let loadedData = window.localStorage.getItem('feedback-form-state');\n  try {\n    loadedData = JSON.parse(loadedData);\n  } catch {\n    loadedData = { email: '', message: '' };\n  }\n  form.email.value = loadedData ? loadedData.email ?? '' : '';\n  form.message.value = loadedData ? loadedData.message ?? '' : '';\n};\n\nconst overrideSubmit = e => {\n  e.preventDefault();\n  console.log(e.target.email.value, ' left feedback: ', e.target.message.value);\n  e.target.message.value = '';\n  e.target.email.value = '';\n  window.localStorage.removeItem('feedback-form-state');\n};\n\nform.addEventListener('input', _.throttle(saveInput, 500));\nwindow.addEventListener('load', loadInput);\nform.addEventListener('submit', overrideSubmit);\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","addEventListener","$parcel$interopDefault","throttle","e","window","localStorage","setItem","JSON","stringify","message","value","email","loadedData","getItem","parse","_email","_message","preventDefault","console","log","target","removeItem"],"version":3,"file":"03-feedback.b3d76077.js.map"}